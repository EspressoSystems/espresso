<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="The interface required by the keystore from a specific network/ledger implementation."><meta name="keywords" content="rust, rustlang, rust-lang, KeystoreBackend"><title>KeystoreBackend in espresso_client - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceSerif4-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../FiraSans-Regular.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../FiraSans-Medium.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceCodePro-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceSerif4-Bold.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceCodePro-Semibold.ttf.woff2"><link rel="stylesheet" type="text/css" href="../normalize.css"><link rel="stylesheet" type="text/css" href="../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../ayu.css" disabled><link rel="stylesheet" type="text/css" href="../dark.css" disabled><link rel="stylesheet" type="text/css" href="../light.css" id="themeStyle"><script id="default-settings" ></script><script src="../storage.js"></script><script defer src="sidebar-items.js"></script><script defer src="../main.js"></script><noscript><link rel="stylesheet" href="../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../favicon.svg"></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../espresso_client/index.html"><div class="logo-container"><img class="rust-logo" src="../rust-logo.svg" alt="logo"></div></a><h2 class="location"></h2></nav><nav class="sidebar"><a class="sidebar-logo" href="../espresso_client/index.html"><div class="logo-container"><img class="rust-logo" src="../rust-logo.svg" alt="logo"></div></a><h2 class="location"><a href="#">KeystoreBackend</a></h2><div class="sidebar-elems"><section><div class="block"><h3 class="sidebar-title"><a href="#required-associated-types">Required Associated Types</a></h3><ul><li><a href="#associatedtype.EventStream">EventStream</a></li></ul></div><div class="block"><h3 class="sidebar-title"><a href="#required-methods">Required Methods</a></h3><ul><li><a href="#tymethod.create">create</a></li><li><a href="#tymethod.get_initial_scan_state">get_initial_scan_state</a></li><li><a href="#tymethod.get_nullifier_proof">get_nullifier_proof</a></li><li><a href="#tymethod.get_public_key">get_public_key</a></li><li><a href="#tymethod.register_user_key">register_user_key</a></li><li><a href="#tymethod.submit">submit</a></li><li><a href="#tymethod.subscribe">subscribe</a></li></ul></div><div class="block"><h3 class="sidebar-title"><a href="#provided-methods">Provided Methods</a></h3><ul><li><a href="#method.finalize">finalize</a></li></ul></div><div class="block"><h3 class="sidebar-title"><a href="#implementors">Implementors</a></h3></div></section><h2 class="location"><a href="index.html">In espresso_client</a></h2></div></nav><main><div class="width-limiter"><div class="sub-container"><a class="sub-logo-container" href="../espresso_client/index.html"><img class="rust-logo" src="../rust-logo.svg" alt="logo"></a><nav class="sub"><form class="search-form"><div class="search-container"><span></span><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><button type="button">?</button></div><div id="settings-menu" tabindex="-1"><a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../wheel.svg"></a></div></div></form></nav></div><section id="main-content" class="content"><div class="main-heading"><h1 class="fqn"><span class="in-band">Trait <a href="index.html">espresso_client</a>::<wbr><a class="trait" href="#">KeystoreBackend</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span></h1><span class="out-of-band"><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span></div><div class="docblock item-decl"><pre class="rust trait"><code>pub trait KeystoreBackend&lt;'a, L&gt;: <a class="trait" href="https://doc.rust-lang.org/1.64.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;L: <a class="trait" href="reef/trait.Ledger.html" title="trait espresso_client::reef::Ledger">Ledger</a>,&nbsp;</span>{
    type <a href="#associatedtype.EventStream" class="associatedtype">EventStream</a>: 'a + Stream + <a class="trait" href="https://doc.rust-lang.org/1.64.0/core/marker/trait.Unpin.html" title="trait core::marker::Unpin">Unpin</a> + <a class="trait" href="https://doc.rust-lang.org/1.64.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a><br>&nbsp;&nbsp;&nbsp; <span class="where">where<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Self::<a class="associatedtype" href="trait.KeystoreBackend.html#associatedtype.EventStream" title="type espresso_client::KeystoreBackend::EventStream">EventStream</a> as Stream&gt;::Item == (<a class="enum" href="events/enum.LedgerEvent.html" title="enum espresso_client::events::LedgerEvent">LedgerEvent</a>&lt;L&gt;, <a class="enum" href="events/enum.EventSource.html" title="enum espresso_client::events::EventSource">EventSource</a>)</span>;

    fn <a href="#tymethod.create" class="fnname">create</a>&lt;'life0, 'async_trait&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;'life0 mut self<br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.64.0/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.64.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.64.0/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="enum" href="https://doc.rust-lang.org/1.64.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="ledger_state/struct.LedgerState.html" title="struct espresso_client::ledger_state::LedgerState">LedgerState</a>&lt;'a, L&gt;, <a class="enum" href="enum.KeystoreError.html" title="enum espresso_client::KeystoreError">KeystoreError</a>&lt;L&gt;&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/1.64.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait, <a class="struct" href="https://doc.rust-lang.org/1.64.0/alloc/alloc/struct.Global.html" title="struct alloc::alloc::Global">Global</a>&gt;&gt;<br>&nbsp;&nbsp;&nbsp; <span class="where">where<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'life0: 'async_trait,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Self: 'async_trait</span>;
<span class="item-spacer"></span>    fn <a href="#tymethod.subscribe" class="fnname">subscribe</a>&lt;'life0, 'async_trait&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;'life0 self,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;from: <a class="struct" href="events/struct.EventIndex.html" title="struct espresso_client::events::EventIndex">EventIndex</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;to: <a class="enum" href="https://doc.rust-lang.org/1.64.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="events/struct.EventIndex.html" title="struct espresso_client::events::EventIndex">EventIndex</a>&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.64.0/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.64.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.64.0/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = Self::<a class="associatedtype" href="trait.KeystoreBackend.html#associatedtype.EventStream" title="type espresso_client::KeystoreBackend::EventStream">EventStream</a>&gt; + <a class="trait" href="https://doc.rust-lang.org/1.64.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait, <a class="struct" href="https://doc.rust-lang.org/1.64.0/alloc/alloc/struct.Global.html" title="struct alloc::alloc::Global">Global</a>&gt;&gt;<br>&nbsp;&nbsp;&nbsp; <span class="where">where<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'life0: 'async_trait,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Self: 'async_trait</span>;
<span class="item-spacer"></span>    fn <a href="#tymethod.get_public_key" class="fnname">get_public_key</a>&lt;'life0, 'life1, 'async_trait&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;'life0 self,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;address: &amp;'life1 <a class="struct" href="jf_cap/keys/struct.UserAddress.html" title="struct espresso_client::jf_cap::keys::UserAddress">UserAddress</a><br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.64.0/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.64.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.64.0/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="enum" href="https://doc.rust-lang.org/1.64.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="jf_cap/keys/struct.UserPubKey.html" title="struct espresso_client::jf_cap::keys::UserPubKey">UserPubKey</a>, <a class="enum" href="enum.KeystoreError.html" title="enum espresso_client::KeystoreError">KeystoreError</a>&lt;L&gt;&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/1.64.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait, <a class="struct" href="https://doc.rust-lang.org/1.64.0/alloc/alloc/struct.Global.html" title="struct alloc::alloc::Global">Global</a>&gt;&gt;<br>&nbsp;&nbsp;&nbsp; <span class="where">where<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'life0: 'async_trait,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'life1: 'async_trait,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Self: 'async_trait</span>;
<span class="item-spacer"></span>    fn <a href="#tymethod.register_user_key" class="fnname">register_user_key</a>&lt;'life0, 'life1, 'async_trait&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;'life0 mut self,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pub_key: &amp;'life1 <a class="struct" href="jf_cap/keys/struct.UserKeyPair.html" title="struct espresso_client::jf_cap::keys::UserKeyPair">UserKeyPair</a><br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.64.0/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.64.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.64.0/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="enum" href="https://doc.rust-lang.org/1.64.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.64.0/std/primitive.unit.html">()</a>, <a class="enum" href="enum.KeystoreError.html" title="enum espresso_client::KeystoreError">KeystoreError</a>&lt;L&gt;&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/1.64.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait, <a class="struct" href="https://doc.rust-lang.org/1.64.0/alloc/alloc/struct.Global.html" title="struct alloc::alloc::Global">Global</a>&gt;&gt;<br>&nbsp;&nbsp;&nbsp; <span class="where">where<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'life0: 'async_trait,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'life1: 'async_trait,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Self: 'async_trait</span>;
<span class="item-spacer"></span>    fn <a href="#tymethod.get_initial_scan_state" class="fnname">get_initial_scan_state</a>&lt;'life0, 'async_trait&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;'life0 self,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;from: <a class="struct" href="events/struct.EventIndex.html" title="struct espresso_client::events::EventIndex">EventIndex</a><br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.64.0/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.64.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.64.0/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="enum" href="https://doc.rust-lang.org/1.64.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;(MerkleTree&lt;Fp256&lt;FrParameters&gt;&gt;, <a class="struct" href="events/struct.EventIndex.html" title="struct espresso_client::events::EventIndex">EventIndex</a>), <a class="enum" href="enum.KeystoreError.html" title="enum espresso_client::KeystoreError">KeystoreError</a>&lt;L&gt;&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/1.64.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait, <a class="struct" href="https://doc.rust-lang.org/1.64.0/alloc/alloc/struct.Global.html" title="struct alloc::alloc::Global">Global</a>&gt;&gt;<br>&nbsp;&nbsp;&nbsp; <span class="where">where<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'life0: 'async_trait,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Self: 'async_trait</span>;
<span class="item-spacer"></span>    fn <a href="#tymethod.get_nullifier_proof" class="fnname">get_nullifier_proof</a>&lt;'life0, 'life1, 'async_trait&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;'life0 self,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block_height: <a class="primitive" href="https://doc.rust-lang.org/1.64.0/std/primitive.u64.html">u64</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nullifiers: &amp;'life1 mut &lt;&lt;&lt;&lt;L as <a class="trait" href="reef/trait.Ledger.html" title="trait espresso_client::reef::Ledger">Ledger</a>&gt;::<a class="associatedtype" href="reef/trait.Ledger.html#associatedtype.Validator" title="type espresso_client::reef::Ledger::Validator">Validator</a> as <a class="trait" href="reef/traits/trait.Validator.html" title="trait espresso_client::reef::traits::Validator">Validator</a>&gt;::<a class="associatedtype" href="reef/traits/trait.Validator.html#associatedtype.Block" title="type espresso_client::reef::traits::Validator::Block">Block</a> as <a class="trait" href="reef/traits/trait.Block.html" title="trait espresso_client::reef::traits::Block">Block</a>&gt;::<a class="associatedtype" href="reef/traits/trait.Block.html#associatedtype.Transaction" title="type espresso_client::reef::traits::Block::Transaction">Transaction</a> as <a class="trait" href="reef/traits/trait.Transaction.html" title="trait espresso_client::reef::traits::Transaction">Transaction</a>&gt;::<a class="associatedtype" href="reef/traits/trait.Transaction.html#associatedtype.NullifierSet" title="type espresso_client::reef::traits::Transaction::NullifierSet">NullifierSet</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nullifier: <a class="struct" href="jf_cap/structs/struct.Nullifier.html" title="struct espresso_client::jf_cap::structs::Nullifier">Nullifier</a><br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.64.0/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.64.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.64.0/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="enum" href="https://doc.rust-lang.org/1.64.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;(<a class="primitive" href="https://doc.rust-lang.org/1.64.0/std/primitive.bool.html">bool</a>, &lt;&lt;&lt;&lt;&lt;L as <a class="trait" href="reef/trait.Ledger.html" title="trait espresso_client::reef::Ledger">Ledger</a>&gt;::<a class="associatedtype" href="reef/trait.Ledger.html#associatedtype.Validator" title="type espresso_client::reef::Ledger::Validator">Validator</a> as <a class="trait" href="reef/traits/trait.Validator.html" title="trait espresso_client::reef::traits::Validator">Validator</a>&gt;::<a class="associatedtype" href="reef/traits/trait.Validator.html#associatedtype.Block" title="type espresso_client::reef::traits::Validator::Block">Block</a> as <a class="trait" href="reef/traits/trait.Block.html" title="trait espresso_client::reef::traits::Block">Block</a>&gt;::<a class="associatedtype" href="reef/traits/trait.Block.html#associatedtype.Transaction" title="type espresso_client::reef::traits::Block::Transaction">Transaction</a> as <a class="trait" href="reef/traits/trait.Transaction.html" title="trait espresso_client::reef::traits::Transaction">Transaction</a>&gt;::<a class="associatedtype" href="reef/traits/trait.Transaction.html#associatedtype.NullifierSet" title="type espresso_client::reef::traits::Transaction::NullifierSet">NullifierSet</a> as <a class="trait" href="reef/traits/trait.NullifierSet.html" title="trait espresso_client::reef::traits::NullifierSet">NullifierSet</a>&gt;::<a class="associatedtype" href="reef/traits/trait.NullifierSet.html#associatedtype.Proof" title="type espresso_client::reef::traits::NullifierSet::Proof">Proof</a>), <a class="enum" href="enum.KeystoreError.html" title="enum espresso_client::KeystoreError">KeystoreError</a>&lt;L&gt;&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/1.64.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait, <a class="struct" href="https://doc.rust-lang.org/1.64.0/alloc/alloc/struct.Global.html" title="struct alloc::alloc::Global">Global</a>&gt;&gt;<br>&nbsp;&nbsp;&nbsp; <span class="where">where<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'life0: 'async_trait,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'life1: 'async_trait,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Self: 'async_trait</span>;
<span class="item-spacer"></span>    fn <a href="#tymethod.submit" class="fnname">submit</a>&lt;'life0, 'async_trait&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;'life0 mut self,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;note: &lt;&lt;&lt;L as <a class="trait" href="reef/trait.Ledger.html" title="trait espresso_client::reef::Ledger">Ledger</a>&gt;::<a class="associatedtype" href="reef/trait.Ledger.html#associatedtype.Validator" title="type espresso_client::reef::Ledger::Validator">Validator</a> as <a class="trait" href="reef/traits/trait.Validator.html" title="trait espresso_client::reef::traits::Validator">Validator</a>&gt;::<a class="associatedtype" href="reef/traits/trait.Validator.html#associatedtype.Block" title="type espresso_client::reef::traits::Validator::Block">Block</a> as <a class="trait" href="reef/traits/trait.Block.html" title="trait espresso_client::reef::traits::Block">Block</a>&gt;::<a class="associatedtype" href="reef/traits/trait.Block.html#associatedtype.Transaction" title="type espresso_client::reef::traits::Block::Transaction">Transaction</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info: <a class="struct" href="transactions/struct.Transaction.html" title="struct espresso_client::transactions::Transaction">Transaction</a>&lt;L&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.64.0/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.64.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.64.0/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="enum" href="https://doc.rust-lang.org/1.64.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.64.0/std/primitive.unit.html">()</a>, <a class="enum" href="enum.KeystoreError.html" title="enum espresso_client::KeystoreError">KeystoreError</a>&lt;L&gt;&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/1.64.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait, <a class="struct" href="https://doc.rust-lang.org/1.64.0/alloc/alloc/struct.Global.html" title="struct alloc::alloc::Global">Global</a>&gt;&gt;<br>&nbsp;&nbsp;&nbsp; <span class="where">where<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'life0: 'async_trait,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Self: 'async_trait</span>;

    fn <a href="#method.finalize" class="fnname">finalize</a>&lt;'life0, 'async_trait&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;'life0 mut self,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_txn: <a class="struct" href="transactions/struct.Transaction.html" title="struct espresso_client::transactions::Transaction">Transaction</a>&lt;L&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_txn_id: <a class="enum" href="https://doc.rust-lang.org/1.64.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;(<a class="primitive" href="https://doc.rust-lang.org/1.64.0/std/primitive.u64.html">u64</a>, <a class="primitive" href="https://doc.rust-lang.org/1.64.0/std/primitive.u64.html">u64</a>)&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.64.0/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.64.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.64.0/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="primitive" href="https://doc.rust-lang.org/1.64.0/std/primitive.unit.html">()</a>&gt; + <a class="trait" href="https://doc.rust-lang.org/1.64.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait, <a class="struct" href="https://doc.rust-lang.org/1.64.0/alloc/alloc/struct.Global.html" title="struct alloc::alloc::Global">Global</a>&gt;&gt;<br>&nbsp;&nbsp;&nbsp; <span class="where">where<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'life0: 'async_trait,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;L: 'static,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Self: 'async_trait</span>,
    { ... }
}</code></pre></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>The interface required by the keystore from a specific network/ledger implementation.</p>
<p>This trait is the adapter for ledger-specific plugins into the ledger-agnostic <a href="struct.Keystore.html" title="Keystore">Keystore</a>
implementation. It provides an interface for the ledger-agnostic keystore to communicate with
remote network participants for a particular ledger. Implementing this trait for your specific
ledger enables the use of the full generic <a href="struct.Keystore.html" title="Keystore">Keystore</a> interface with your ledger.</p>
</div></details><h2 id="required-associated-types" class="small-section-header">Required Associated Types<a href="#required-associated-types" class="anchor"></a></h2><div class="methods"><details class="rustdoc-toggle" open><summary><div id="associatedtype.EventStream" class="method has-srclink"><div class="rightside"></div><h4 class="code-header">type <a href="#associatedtype.EventStream" class="associatedtype">EventStream</a>: 'a + Stream + <a class="trait" href="https://doc.rust-lang.org/1.64.0/core/marker/trait.Unpin.html" title="trait core::marker::Unpin">Unpin</a> + <a class="trait" href="https://doc.rust-lang.org/1.64.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> <br><span class="where">where<br>&nbsp;&nbsp;&nbsp;&nbsp;&lt;Self::<a class="associatedtype" href="trait.KeystoreBackend.html#associatedtype.EventStream" title="type espresso_client::KeystoreBackend::EventStream">EventStream</a> as Stream&gt;::Item == (<a class="enum" href="events/enum.LedgerEvent.html" title="enum espresso_client::events::LedgerEvent">LedgerEvent</a>&lt;L&gt;, <a class="enum" href="events/enum.EventSource.html" title="enum espresso_client::events::EventSource">EventSource</a>)</span></h4></div></summary><div class="docblock"><p>Notifications about ledger state changes.</p>
<p>The keystore must be able to subscribe to a stream of events from the backend. These events
occur whenever the ledger state changes, including new blocks being committed and owner
memos being published. The backend may also include events when blocks are rejected. This is
not required, but it can help the keystore report failures more quickly (if a rejection is not
reported, the rejected transaction will eventually be considered timed out).</p>
<p>Each event yielded by the stream must be tagged with an <a href="events/enum.EventSource.html" title="EventSource">EventSource</a> indicating where the
event came from. Implementations of <a href="trait.KeystoreBackend.html" title="KeystoreBackend">KeystoreBackend</a> may provide events from multiple sources
(for example, block events from a network query service and memo events from a centralized
memo store) or they may aggregate all events into a single stream from a single source.</p>
</div></details></div><h2 id="required-methods" class="small-section-header">Required Methods<a href="#required-methods" class="anchor"></a></h2><div class="methods"><details class="rustdoc-toggle" open><summary><div id="tymethod.create" class="method has-srclink"><div class="rightside"></div><h4 class="code-header">fn <a href="#tymethod.create" class="fnname">create</a>&lt;'life0, 'async_trait&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;'life0 mut self<br>) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.64.0/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.64.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.64.0/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="enum" href="https://doc.rust-lang.org/1.64.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="ledger_state/struct.LedgerState.html" title="struct espresso_client::ledger_state::LedgerState">LedgerState</a>&lt;'a, L&gt;, <a class="enum" href="enum.KeystoreError.html" title="enum espresso_client::KeystoreError">KeystoreError</a>&lt;L&gt;&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/1.64.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait, <a class="struct" href="https://doc.rust-lang.org/1.64.0/alloc/alloc/struct.Global.html" title="struct alloc::alloc::Global">Global</a>&gt;&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;'life0: 'async_trait,<br>&nbsp;&nbsp;&nbsp;&nbsp;Self: 'async_trait,&nbsp;</span></h4></div></summary><div class="docblock"><p>Create a new keystore.</p>
<p>This method should query the current state of the network (or at least some past state) and
create a <a href="ledger_state/struct.LedgerState.html" title="LedgerState">LedgerState</a> consistent with that state. It must also persist the initial state by
interacting with the storage layer directly.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.subscribe" class="method has-srclink"><div class="rightside"></div><h4 class="code-header">fn <a href="#tymethod.subscribe" class="fnname">subscribe</a>&lt;'life0, 'async_trait&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;'life0 self,<br>&nbsp;&nbsp;&nbsp;&nbsp;from: <a class="struct" href="events/struct.EventIndex.html" title="struct espresso_client::events::EventIndex">EventIndex</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;to: <a class="enum" href="https://doc.rust-lang.org/1.64.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="events/struct.EventIndex.html" title="struct espresso_client::events::EventIndex">EventIndex</a>&gt;<br>) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.64.0/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.64.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.64.0/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = Self::<a class="associatedtype" href="trait.KeystoreBackend.html#associatedtype.EventStream" title="type espresso_client::KeystoreBackend::EventStream">EventStream</a>&gt; + <a class="trait" href="https://doc.rust-lang.org/1.64.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait, <a class="struct" href="https://doc.rust-lang.org/1.64.0/alloc/alloc/struct.Global.html" title="struct alloc::alloc::Global">Global</a>&gt;&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;'life0: 'async_trait,<br>&nbsp;&nbsp;&nbsp;&nbsp;Self: 'async_trait,&nbsp;</span></h4></div></summary><div class="docblock"><p>Subscribe to the asynchronous ledgerevent stream.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.get_public_key" class="method has-srclink"><div class="rightside"></div><h4 class="code-header">fn <a href="#tymethod.get_public_key" class="fnname">get_public_key</a>&lt;'life0, 'life1, 'async_trait&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;'life0 self,<br>&nbsp;&nbsp;&nbsp;&nbsp;address: &amp;'life1 <a class="struct" href="jf_cap/keys/struct.UserAddress.html" title="struct espresso_client::jf_cap::keys::UserAddress">UserAddress</a><br>) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.64.0/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.64.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.64.0/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="enum" href="https://doc.rust-lang.org/1.64.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="jf_cap/keys/struct.UserPubKey.html" title="struct espresso_client::jf_cap::keys::UserPubKey">UserPubKey</a>, <a class="enum" href="enum.KeystoreError.html" title="enum espresso_client::KeystoreError">KeystoreError</a>&lt;L&gt;&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/1.64.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait, <a class="struct" href="https://doc.rust-lang.org/1.64.0/alloc/alloc/struct.Global.html" title="struct alloc::alloc::Global">Global</a>&gt;&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;'life0: 'async_trait,<br>&nbsp;&nbsp;&nbsp;&nbsp;'life1: 'async_trait,<br>&nbsp;&nbsp;&nbsp;&nbsp;Self: 'async_trait,&nbsp;</span></h4></div></summary><div class="docblock"><p>Find the public encryption key associated with the given address.</p>
<p>Users in CAP are identified by addresses, but sending to a user also requires access to
their public encryption key, for encrypting owner memos. This information must be published
in some way, and accessed by the backend in this method.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.register_user_key" class="method has-srclink"><div class="rightside"></div><h4 class="code-header">fn <a href="#tymethod.register_user_key" class="fnname">register_user_key</a>&lt;'life0, 'life1, 'async_trait&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;'life0 mut self,<br>&nbsp;&nbsp;&nbsp;&nbsp;pub_key: &amp;'life1 <a class="struct" href="jf_cap/keys/struct.UserKeyPair.html" title="struct espresso_client::jf_cap::keys::UserKeyPair">UserKeyPair</a><br>) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.64.0/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.64.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.64.0/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="enum" href="https://doc.rust-lang.org/1.64.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.64.0/std/primitive.unit.html">()</a>, <a class="enum" href="enum.KeystoreError.html" title="enum espresso_client::KeystoreError">KeystoreError</a>&lt;L&gt;&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/1.64.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait, <a class="struct" href="https://doc.rust-lang.org/1.64.0/alloc/alloc/struct.Global.html" title="struct alloc::alloc::Global">Global</a>&gt;&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;'life0: 'async_trait,<br>&nbsp;&nbsp;&nbsp;&nbsp;'life1: 'async_trait,<br>&nbsp;&nbsp;&nbsp;&nbsp;Self: 'async_trait,&nbsp;</span></h4></div></summary><div class="docblock"><p>Publish an encryption key so that other keystores can access it using <a href="trait.KeystoreBackend.html#tymethod.get_public_key" title="KeystoreBackend::get_public_key">KeystoreBackend::get_public_key</a>.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.get_initial_scan_state" class="method has-srclink"><div class="rightside"></div><h4 class="code-header">fn <a href="#tymethod.get_initial_scan_state" class="fnname">get_initial_scan_state</a>&lt;'life0, 'async_trait&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;'life0 self,<br>&nbsp;&nbsp;&nbsp;&nbsp;from: <a class="struct" href="events/struct.EventIndex.html" title="struct espresso_client::events::EventIndex">EventIndex</a><br>) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.64.0/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.64.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.64.0/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="enum" href="https://doc.rust-lang.org/1.64.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;(MerkleTree&lt;Fp256&lt;FrParameters&gt;&gt;, <a class="struct" href="events/struct.EventIndex.html" title="struct espresso_client::events::EventIndex">EventIndex</a>), <a class="enum" href="enum.KeystoreError.html" title="enum espresso_client::KeystoreError">KeystoreError</a>&lt;L&gt;&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/1.64.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait, <a class="struct" href="https://doc.rust-lang.org/1.64.0/alloc/alloc/struct.Global.html" title="struct alloc::alloc::Global">Global</a>&gt;&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;'life0: 'async_trait,<br>&nbsp;&nbsp;&nbsp;&nbsp;Self: 'async_trait,&nbsp;</span></h4></div></summary><div class="docblock"><p>Get a ledger state from which to start a scan.</p>
<p>The backend must return the Merkle frontier at a time earlier than the <code>from</code> index, but it
is not required to record the state at every event index, it may return an earlier Merkle
frontier, such as the initial frontier. For this reason, the event index corresponding to
the returned frontier is also returned.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.get_nullifier_proof" class="method has-srclink"><div class="rightside"></div><h4 class="code-header">fn <a href="#tymethod.get_nullifier_proof" class="fnname">get_nullifier_proof</a>&lt;'life0, 'life1, 'async_trait&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;'life0 self,<br>&nbsp;&nbsp;&nbsp;&nbsp;block_height: <a class="primitive" href="https://doc.rust-lang.org/1.64.0/std/primitive.u64.html">u64</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;nullifiers: &amp;'life1 mut &lt;&lt;&lt;&lt;L as <a class="trait" href="reef/trait.Ledger.html" title="trait espresso_client::reef::Ledger">Ledger</a>&gt;::<a class="associatedtype" href="reef/trait.Ledger.html#associatedtype.Validator" title="type espresso_client::reef::Ledger::Validator">Validator</a> as <a class="trait" href="reef/traits/trait.Validator.html" title="trait espresso_client::reef::traits::Validator">Validator</a>&gt;::<a class="associatedtype" href="reef/traits/trait.Validator.html#associatedtype.Block" title="type espresso_client::reef::traits::Validator::Block">Block</a> as <a class="trait" href="reef/traits/trait.Block.html" title="trait espresso_client::reef::traits::Block">Block</a>&gt;::<a class="associatedtype" href="reef/traits/trait.Block.html#associatedtype.Transaction" title="type espresso_client::reef::traits::Block::Transaction">Transaction</a> as <a class="trait" href="reef/traits/trait.Transaction.html" title="trait espresso_client::reef::traits::Transaction">Transaction</a>&gt;::<a class="associatedtype" href="reef/traits/trait.Transaction.html#associatedtype.NullifierSet" title="type espresso_client::reef::traits::Transaction::NullifierSet">NullifierSet</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;nullifier: <a class="struct" href="jf_cap/structs/struct.Nullifier.html" title="struct espresso_client::jf_cap::structs::Nullifier">Nullifier</a><br>) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.64.0/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.64.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.64.0/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="enum" href="https://doc.rust-lang.org/1.64.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;(<a class="primitive" href="https://doc.rust-lang.org/1.64.0/std/primitive.bool.html">bool</a>, &lt;&lt;&lt;&lt;&lt;L as <a class="trait" href="reef/trait.Ledger.html" title="trait espresso_client::reef::Ledger">Ledger</a>&gt;::<a class="associatedtype" href="reef/trait.Ledger.html#associatedtype.Validator" title="type espresso_client::reef::Ledger::Validator">Validator</a> as <a class="trait" href="reef/traits/trait.Validator.html" title="trait espresso_client::reef::traits::Validator">Validator</a>&gt;::<a class="associatedtype" href="reef/traits/trait.Validator.html#associatedtype.Block" title="type espresso_client::reef::traits::Validator::Block">Block</a> as <a class="trait" href="reef/traits/trait.Block.html" title="trait espresso_client::reef::traits::Block">Block</a>&gt;::<a class="associatedtype" href="reef/traits/trait.Block.html#associatedtype.Transaction" title="type espresso_client::reef::traits::Block::Transaction">Transaction</a> as <a class="trait" href="reef/traits/trait.Transaction.html" title="trait espresso_client::reef::traits::Transaction">Transaction</a>&gt;::<a class="associatedtype" href="reef/traits/trait.Transaction.html#associatedtype.NullifierSet" title="type espresso_client::reef::traits::Transaction::NullifierSet">NullifierSet</a> as <a class="trait" href="reef/traits/trait.NullifierSet.html" title="trait espresso_client::reef::traits::NullifierSet">NullifierSet</a>&gt;::<a class="associatedtype" href="reef/traits/trait.NullifierSet.html#associatedtype.Proof" title="type espresso_client::reef::traits::NullifierSet::Proof">Proof</a>), <a class="enum" href="enum.KeystoreError.html" title="enum espresso_client::KeystoreError">KeystoreError</a>&lt;L&gt;&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/1.64.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait, <a class="struct" href="https://doc.rust-lang.org/1.64.0/alloc/alloc/struct.Global.html" title="struct alloc::alloc::Global">Global</a>&gt;&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;'life0: 'async_trait,<br>&nbsp;&nbsp;&nbsp;&nbsp;'life1: 'async_trait,<br>&nbsp;&nbsp;&nbsp;&nbsp;Self: 'async_trait,&nbsp;</span></h4></div></summary><div class="docblock"><p>Determine whether a nullifier is spent and obtain a proof.</p>
<p><code>nullifiers</code> is a local cache of nullifiers. It may not contain a status or proof for every
relevant nullifier. This function should check if <code>nullifier</code> is represented in
<code>nullifiers</code> and query the network only if it is not. Optionally, this function may add the
proof to the cache after obtaining a proof from the network.</p>
<p><code>block_height</code> indicates the block height, or state number, for which  <code>nullifiers</code> is the
current nullifier set.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.submit" class="method has-srclink"><div class="rightside"></div><h4 class="code-header">fn <a href="#tymethod.submit" class="fnname">submit</a>&lt;'life0, 'async_trait&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;'life0 mut self,<br>&nbsp;&nbsp;&nbsp;&nbsp;note: &lt;&lt;&lt;L as <a class="trait" href="reef/trait.Ledger.html" title="trait espresso_client::reef::Ledger">Ledger</a>&gt;::<a class="associatedtype" href="reef/trait.Ledger.html#associatedtype.Validator" title="type espresso_client::reef::Ledger::Validator">Validator</a> as <a class="trait" href="reef/traits/trait.Validator.html" title="trait espresso_client::reef::traits::Validator">Validator</a>&gt;::<a class="associatedtype" href="reef/traits/trait.Validator.html#associatedtype.Block" title="type espresso_client::reef::traits::Validator::Block">Block</a> as <a class="trait" href="reef/traits/trait.Block.html" title="trait espresso_client::reef::traits::Block">Block</a>&gt;::<a class="associatedtype" href="reef/traits/trait.Block.html#associatedtype.Transaction" title="type espresso_client::reef::traits::Block::Transaction">Transaction</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;info: <a class="struct" href="transactions/struct.Transaction.html" title="struct espresso_client::transactions::Transaction">Transaction</a>&lt;L&gt;<br>) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.64.0/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.64.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.64.0/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="enum" href="https://doc.rust-lang.org/1.64.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.64.0/std/primitive.unit.html">()</a>, <a class="enum" href="enum.KeystoreError.html" title="enum espresso_client::KeystoreError">KeystoreError</a>&lt;L&gt;&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/1.64.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait, <a class="struct" href="https://doc.rust-lang.org/1.64.0/alloc/alloc/struct.Global.html" title="struct alloc::alloc::Global">Global</a>&gt;&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;'life0: 'async_trait,<br>&nbsp;&nbsp;&nbsp;&nbsp;Self: 'async_trait,&nbsp;</span></h4></div></summary><div class="docblock"><p>Submit a transaction to a validator.</p>
</div></details></div><h2 id="provided-methods" class="small-section-header">Provided Methods<a href="#provided-methods" class="anchor"></a></h2><div class="methods"><details class="rustdoc-toggle" open><summary><div id="method.finalize" class="method has-srclink"><div class="rightside"></div><h4 class="code-header">fn <a href="#method.finalize" class="fnname">finalize</a>&lt;'life0, 'async_trait&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;'life0 mut self,<br>&nbsp;&nbsp;&nbsp;&nbsp;_txn: <a class="struct" href="transactions/struct.Transaction.html" title="struct espresso_client::transactions::Transaction">Transaction</a>&lt;L&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;_txn_id: <a class="enum" href="https://doc.rust-lang.org/1.64.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;(<a class="primitive" href="https://doc.rust-lang.org/1.64.0/std/primitive.u64.html">u64</a>, <a class="primitive" href="https://doc.rust-lang.org/1.64.0/std/primitive.u64.html">u64</a>)&gt;<br>) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.64.0/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.64.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.64.0/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="primitive" href="https://doc.rust-lang.org/1.64.0/std/primitive.unit.html">()</a>&gt; + <a class="trait" href="https://doc.rust-lang.org/1.64.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait, <a class="struct" href="https://doc.rust-lang.org/1.64.0/alloc/alloc/struct.Global.html" title="struct alloc::alloc::Global">Global</a>&gt;&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;'life0: 'async_trait,<br>&nbsp;&nbsp;&nbsp;&nbsp;L: 'static,<br>&nbsp;&nbsp;&nbsp;&nbsp;Self: 'async_trait,&nbsp;</span></h4></div></summary><div class="docblock"><p>Record a finalized transaction.</p>
<p>If successful, <code>txn_id</code> contains the block ID and index of the committed transaction.</p>
<p>This function is optional and does nothing by default. The backend can override it to
perform cleanup or post-processing on completed transactions.</p>
</div></details></div><h2 id="implementors" class="small-section-header">Implementors<a href="#implementors" class="anchor"></a></h2><div class="item-list" id="implementors-list"><details class="rustdoc-toggle implementors-toggle"><summary><section id="impl-KeystoreBackend%3C%27a%2C%20EspressoLedger%3E-for-NetworkBackend%3C%27a%3E" class="impl has-srclink"><span class="rightside"><a class="srclink" href="../src/espresso_client/network.rs.html#114-315">source</a></span><a href="#impl-KeystoreBackend%3C%27a%2C%20EspressoLedger%3E-for-NetworkBackend%3C%27a%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;'a&gt; <a class="trait" href="trait.KeystoreBackend.html" title="trait espresso_client::KeystoreBackend">KeystoreBackend</a>&lt;'a, <a class="struct" href="../espresso_core/ledger/struct.EspressoLedger.html" title="struct espresso_core::ledger::EspressoLedger">EspressoLedger</a>&gt; for <a class="struct" href="network/struct.NetworkBackend.html" title="struct espresso_client::network::NetworkBackend">NetworkBackend</a>&lt;'a&gt;</h3></section></summary><div class="impl-items"><section id="associatedtype.EventStream-1" class="associatedtype trait-impl has-srclink"><a href="#associatedtype.EventStream-1" class="anchor"></a><h4 class="code-header">type <a href="#associatedtype.EventStream" class="associatedtype">EventStream</a> = <a class="struct" href="https://doc.rust-lang.org/1.64.0/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.64.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn Stream&lt;Item = (<a class="enum" href="events/enum.LedgerEvent.html" title="enum espresso_client::events::LedgerEvent">LedgerEvent</a>&lt;<a class="struct" href="../espresso_core/ledger/struct.EspressoLedger.html" title="struct espresso_core::ledger::EspressoLedger">EspressoLedger</a>&gt;, <a class="enum" href="events/enum.EventSource.html" title="enum espresso_client::events::EventSource">EventSource</a>)&gt; + <a class="trait" href="https://doc.rust-lang.org/1.64.0/core/marker/trait.Unpin.html" title="trait core::marker::Unpin">Unpin</a> + <a class="trait" href="https://doc.rust-lang.org/1.64.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'static, <a class="struct" href="https://doc.rust-lang.org/1.64.0/alloc/alloc/struct.Global.html" title="struct alloc::alloc::Global">Global</a>&gt;&gt;</h4></section></div></details></div><script type="text/javascript" src="../implementors/seahorse/trait.KeystoreBackend.js" data-ignore-extern-crates="" async></script></section></div></main><div id="rustdoc-vars" data-root-path="../" data-current-crate="espresso_client" data-themes="ayu,dark,light" data-resource-suffix="" data-rustdoc-version="1.64.0 (a55dd71d5 2022-09-19)" ></div></body></html>